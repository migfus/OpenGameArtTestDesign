import{d as E,c,o,f as n,g as r,D as $,B as b,Z as q,r as k,j as I,x as V,k as N,E as D,A as y,a as C,J as h,b as t,I as u,$ as d,S as i,M as O,a0 as F,W as Q,a1 as U,a2 as H,l as P,P as J,h as W,L as Y,R as Z,F as j,C as B,Q as G,T}from"./app-B23QKNKn.js";const K={class:"flex flex-col gap-2"},X={class:"w-full h-38 relative bg-cover rounded-2xl border-2 border-brand-950 flex flex-col justify-end"},ee={class:"flex flex-col h-full justify-between"},ne=E({__name:"ArtCardLoader",setup(l){return(v,s)=>(o(),c("div",K,[n("div",X,[n("div",ee,[s[1]||(s[1]=n("div",{class:"p-2 flex gap-1 justify-end relative"},[n("p",{class:"bg-brand-950 px-2 rounded-xl text-sm animate-pulse h-5 w-16"})],-1)),r($,{class:"p-2 flex gap-1 rounded-b-xl flex-none"},{default:b(()=>[...s[0]||(s[0]=[n("div",{class:"size-5 rounded-full border border-brand-950 bg-brand-950"},null,-1),n("p",{class:"text-sm font-semibold truncate h-5 w-16 bg-brand-950 rounded-xl"},null,-1)])]),_:1})])]),r($,{class:"flex flex-col gap-2"},{default:b(()=>[...s[2]||(s[2]=[n("p",{class:"font-bold truncate h-6 w-32 bg-brand-950 rounded-xl"},null,-1),n("p",{class:"h-6 bg-brand-950/75 rounded-xl"},null,-1),n("p",{class:"h-6 bg-brand-950/75 rounded-xl"},null,-1)])]),_:1})]))}}),te={class:D(["flex flex-col gap-2 cursor-pointer group relative"])},se={class:"flex flex-col h-full justify-between"},le={class:"p-2 flex gap-1 justify-end relative"},oe={class:"bg-brand-950 px-2 rounded-xl text-sm"},ae={key:0,class:"flex justify-center"},ie=["href"],re=["src"],de={key:2,class:"absolute size-18 rounded-full border-b-4 border-[#b7a6d4] animate-spin -z-10 blur-sm"},ue={ref:"waveform"},ce=["href"],me=["src"],fe={class:"text-sm font-semibold truncate text-brand-200/75 group-hover:text-brand-200 transition-all"},ve={key:2,class:"p-2 flex gap-1 bg-linear-to-t from-brand-950 to-transparent rounded-b-xl flex-none"},xe=["href"],pe={class:"flex justify-between"},be={class:"font-bold truncate"},ge={class:"flex gap-2 items-center"},ye={class:"flex items-center gap-1"},we={class:"flex items-center gap-1"},ke=["innerHTML"],he={key:1,class:"rounded-lg flex gap-1 flex-col mt-2"},$e={key:0,class:"flex justify-center"},Ae={class:"flex justify-between py-2 text-brand-300 px-4 items-center"},Te={class:"truncate w-32 flex flex-col"},Oe={class:"font-semibold truncate"},ze=["href"],Ce={class:"flex gap-2 items-center"},De={class:"flex items-center gap-1"},Ee={class:"flex items-center gap-1"},Me={class:"space-y-2 px-4"},_e={class:"relative w-full h-6 md:h-4 bg-dark-001 rounded-full p-1"},Le=["max"],je=E({__name:"ArtCard",props:{art:{},idx:{}},emits:["pauseAllAudio"],setup(l,{emit:v}){const s=q("audioRef"),m=k(!1),A=k(0),f=k(0),w=k(!1);let x=0;const g=()=>{const p=window.scrollY;p>x?w.value=!1:w.value=!0,x=p};function M(){s.value?(s.value.play(),m.value=!0,window.dispatchEvent(new CustomEvent("pauseAllAudio",{detail:{idx:l.idx}}))):alert("no audio file found")}function _(p){p?.detail?.idx!==l.idx&&z()}function z(){s.value&&(s.value.pause(),m.value=!1)}function L(){s.value&&(s.value.currentTime=0)}function R(p=10){if(s.value){const e=s.value.duration;if(!isFinite(e))return;s.value.currentTime=Math.min((s.value.currentTime||0)+p,e)}}function S(){s.value&&(s.value.currentTime=f.value)}return I(()=>{window.addEventListener("pauseAllAudio",_),window.addEventListener("scroll",g),s.value&&(s.value.addEventListener("loadedmetadata",()=>{A.value=s.value?.duration||0}),s.value.addEventListener("timeupdate",()=>{f.value=s.value?.currentTime||0}))}),V(()=>{window.removeEventListener("pauseAllAudio",_)}),N(()=>window.removeEventListener("scroll",g)),(p,e)=>(o(),c("div",te,[n("div",{class:"w-full h-38 relative bg-cover rounded-2xl border-2 border-brand-950 flex flex-col justify-end z-10 bg-dark-001 cursor-default",style:O(`background-image: url(${l.art.preview_image});`)},[n("div",se,[n("div",le,[n("p",oe,h(l.art.audio_mp3?"Music":"art"),1)]),l.art.audio_mp3?(o(),c("div",ae,[m.value?(o(),y($,{key:0,class:"flex gap-2 items-center cursor-pointer"},{default:b(()=>[r(t(u),{icon:"memory:rotate-counterclockwise",class:"size-12 bg-brand-950 rounded-full hover:scale-110 transition-all p-2",onClick:e[0]||(e[0]=d(a=>L(),["stop"])),onMousedown:e[1]||(e[1]=d(()=>{},["stop"])),style:{animationDelay:"100ms",transitionDelay:"100ms"},onAnimationendOnce:t(i),onTransitionendOnce:t(i)},null,8,["onAnimationendOnce","onTransitionendOnce"]),r(t(u),{icon:"memory:pause",class:"size-18 bg-brand-900 rounded-full hover:scale-110 transition-all p-2",onClick:e[2]||(e[2]=d(a=>z(),["stop"])),onMousedown:e[3]||(e[3]=d(()=>{},["stop"]))}),n("a",{href:l.art.id,class:"transition-all",style:{animationDelay:"200ms",transitionDelay:"200ms"},onAnimationendOnce:e[6]||(e[6]=(...a)=>t(i)&&t(i)(...a)),onTransitionendOnce:e[7]||(e[7]=(...a)=>t(i)&&t(i)(...a))},[r(t(u),{icon:"memory:arrow-right",class:"size-12 bg-brand-950 rounded-full hover:scale-110 transition-all p-2",onClick:e[4]||(e[4]=d(a=>R(),["stop"])),onMousedown:e[5]||(e[5]=d(()=>{},["stop"]))})],40,ie)]),_:1})):(o(),y(t(u),{key:1,icon:"memory:play",class:"size-18 bg-brand-950 rounded-full hover:scale-110 transition-all p-2 cursor-pointer",onClick:e[8]||(e[8]=d(a=>M(),["stop"])),onMousedown:e[9]||(e[9]=d(()=>{},["stop"]))})),n("audio",{ref_key:"audioRef",ref:s,src:l.art.audio_mp3},null,8,re),m.value?(o(),c("div",de)):C("",!0),n("div",ue,null,512)])):C("",!0),l.art.user?(o(),c("a",{key:1,href:`https://opengameart.org/users/${l.art.user.id}`,class:"p-2 flex gap-1 bg-linear-to-t from-brand-950 to-transparent rounded-b-xl flex-none"},[n("img",{src:l.art.user.image_url,class:"size-5 rounded-full border border-brand-950"},null,8,me),n("p",fe,h(l.art.user?.username),1)],8,ce)):(o(),c("div",ve,[...e[19]||(e[19]=[n("div",{class:"size-5 rounded-full bg-brand-950 animate-pulse"},null,-1),n("div",{class:"animate-pulse bg-red-700 rounded-xl h-4"},null,-1)])]))])],4),n("a",{href:`https://opengameart.org/content/${l.art.id}`,class:"flex flex-col z-10"},[n("div",pe,[n("p",be,h(l.art.title),1),n("div",ge,[n("div",ye,[e[20]||(e[20]=n("p",{class:"text-xs"},"2k",-1)),r(t(u),{icon:"memory:chat",class:"size-5"})]),n("div",we,[e[21]||(e[21]=n("p",{class:"text-xs"},"888",-1)),r(t(u),{icon:"memory:heart",class:"size-5"})])])]),l.art.content?(o(),c("div",{key:0,class:"line-clamp-3 text-brand-200/50 group-hover:text-brand-200/75 transition-all text-sm",innerHTML:l.art.content},null,8,ke)):(o(),c("div",he,[...e[22]||(e[22]=[n("div",{class:"h-4 rounded-lg w-ful bg-brand-950 animate-pulse group-hover:bg-dark-001 transition-all"},null,-1),n("div",{class:"h-4 rounded-lg w-full bg-brand-950 animate-pulse group-hover:bg-dark-001 transition-all"},null,-1),n("div",{class:"h-4 rounded-lg w-full bg-brand-950 animate-pulse group-hover:bg-dark-001 transition-all"},null,-1)])]))],8,xe),e[26]||(e[26]=n("div",{class:"absolute h-full w-full rounded-2xl group-hover:bg-brand-950 transition-all group-hover:scale-[110%] z-0"},null,-1)),(o(),y(H,{to:"body"},[r(F,null,{default:b(()=>[m.value?(o(),c("div",$e,[n("div",{class:D([w.value&&m.value?"translate-y-0 ":"translate-y-16 md:translate-y-0","fixed bg-brand-950/75 backdrop-blur-sm w-full h-46 md:h-24 bottom-0 z-10 flex flex-col gap-2 transition-all md:rounded-t-2xl md:w-xl "])},[n("div",Ae,[n("div",Te,[n("p",Oe,h(l.art.title),1),e[23]||(e[23]=n("div",{class:"flex gap-1"},[n("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Icon-round-Question_mark.svg/1200px-Icon-round-Question_mark.svg.png",class:"size-4"}),n("p",{class:"font-semibold truncate text-xs"},"[username]")],-1))]),m.value?(o(),y($,{key:0,class:"flex gap-2 items-center cursor-pointer mx-auto"},{default:b(()=>[r(t(u),{icon:"memory:rotate-counterclockwise",class:"size-10 text-brand-200 bg-dark-001 rounded-full hover:scale-110 transition-all p-2",onClick:e[10]||(e[10]=d(a=>L(),["stop"])),onMousedown:e[11]||(e[11]=d(()=>{},["stop"])),style:{animationDelay:"200ms",transitionDelay:"200ms"},onAnimationendOnce:t(i),onTransitionendOnce:t(i)},null,8,["onAnimationendOnce","onTransitionendOnce"]),r(t(u),{icon:"memory:pause",class:"size-12 bg-dark-001 text-brand-200 rounded-full hover:scale-110 transition-all p-2",onClick:e[12]||(e[12]=d(a=>z(),["stop"])),onMousedown:e[13]||(e[13]=d(()=>{},["stop"]))}),n("a",{href:l.art.id,class:"transition-all",style:{animationDelay:"200ms",transitionDelay:"200ms"},onAnimationendOnce:e[14]||(e[14]=(...a)=>t(i)&&t(i)(...a)),onTransitionendOnce:e[15]||(e[15]=(...a)=>t(i)&&t(i)(...a))},[r(t(u),{icon:"memory:arrow-right",class:"size-10 bg-dark-001 text-brand-200 rounded-full hover:scale-110 transition-all p-2"})],40,ze)]),_:1})):(o(),y(t(u),{key:1,icon:"memory:play",class:"size-18 bg-brand-950 rounded-full hover:scale-110 transition-all p-2",onClick:e[16]||(e[16]=d(a=>M(),["stop"])),onMousedown:e[17]||(e[17]=d(()=>{},["stop"]))})),n("div",Ce,[n("div",De,[e[24]||(e[24]=n("p",{class:"text-xs"},"2k",-1)),r(t(u),{icon:"memory:chat",class:"size-5"})]),n("div",Ee,[e[25]||(e[25]=n("p",{class:"text-xs"},"888",-1)),r(t(u),{icon:"memory:heart",class:"size-5"})])])]),n("div",Me,[n("div",_e,[n("div",{class:D(["absolute left-0 top-1 bottom-1 bg-brand-300 rounded-full"]),style:O({width:`${f.value/A.value*100}%`})},null,4),Q(n("input",{type:"range",min:"0",max:A.value,step:"0.01","onUpdate:modelValue":e[18]||(e[18]=a=>f.value=a),onInput:S,class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},null,40,Le),[[U,f.value]])])])],2)])):C("",!0)]),_:1})]))]))}}),Be={class:"flex flex-col gap-2 px-6 pt-2"},Re={class:"flex justify-between gap-2"},qe=E({__name:"ArtCategorySection",props:{title:{},arts:{},loading:{type:Boolean},more:{},large:{type:Boolean}},setup(l){k([]);const v=J(G),s=P({sm:v.greaterOrEqual("sm"),md:v.greaterOrEqual("md"),lg:v.greaterOrEqual("lg"),xl:v.greaterOrEqual("xl"),xxl:v.greaterOrEqual("2xl")}),m=W(()=>s.xxl?l.arts.slice(0,12):s.xl?l.arts.slice(0,10):s.lg?l.arts.slice(0,8):l.arts);return(A,f)=>{const w=Y("RouterLink");return o(),c("div",Be,[n("div",Re,[n("p",null,h(l.title),1),r(w,{to:l.more},{default:b(()=>[...f[0]||(f[0]=[Z("Check More",-1)])]),_:1},8,["to"])]),r($,{class:"grid grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4 line-clamp-2 overflow-visible"},{default:b(()=>[l.loading?(o(),c(j,{key:0},B([1,2,3,4,5,6,7,8,9,10,11,12],x=>r(ne,{style:O({animationDelay:`${x*t(T)/4}ms`,transitionDelay:`${x*t(T)/4}ms`}),onAnimationendOnce:t(i),onTransitionendOnce:t(i)},null,8,["style","onAnimationendOnce","onTransitionendOnce"])),64)):(o(!0),c(j,{key:1},B(m.value,(x,g)=>(o(),y(je,{art:x,idx:g,style:O({animationDelay:`${g*t(T)/4}ms`,transitionDelay:`${g*t(T)/4}ms`}),onAnimationendOnce:t(i),onTransitionendOnce:t(i)},null,8,["art","idx","style","onAnimationendOnce","onTransitionendOnce"]))),256))]),_:1})])}}});export{ne as _,qe as a};
